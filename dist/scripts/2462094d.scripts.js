!function(){"use strict";function a(a,b,c,d,e){var f=500,g=10;a.session={};var h=Parse.User.current();h&&(b.currentUser=h.attributes,b.currentUser.picture="images/no_avatar.png"),b.displayLogin=!Parse.User.current(),e.localStorage&&!e.localStorage.trainings?d.getAll().then(function(b){a.session.all=b,e.localStorage.trainings=JSON.stringify(b)}):a.session.all=JSON.parse(e.localStorage.trainings),a.goTo=function(a){var b=angular.element(document.getElementById(a));c.scrollToElement(b,g,f)}}function b(a){a.when("/",{controller:"MainController",templateUrl:"views/main.html"}).otherwise({redirectTo:"/"})}angular.module("philosAngularApp",["ngRoute","ngResource","authentication","training","duScroll","cart"]).run(function(){var a={js:"LnV5YM6ZtvYZ7nrI2tx58IN8ABWTb67KgUJADAef",appID:"sNUJR4kRaArwjeBtlkdcdSm5cmDYeHidBQIyIYVt",server:"F3JxL62hhpsnYK16oTg0R3A6SUdeQ6SLZmlWgSgQ",client:"GZIN8ZcKwlmcJe4Y8B14a2J17iFasnzQfAw8vZhX"};Parse.initialize(a.appID,a.js)}).config(["$routeProvider","$locationProvider",b]).controller("MainController",["$scope","$rootScope","$document","trainingFactory","$window",a])}(),function(){angular.module("philosAngularApp").constant("CurrentUser",{})}(),function(){"use strict";function a(a){a.when("/signup",{controller:"AuthController",templateUrl:"views/signup.html"}).when("/signin",{controller:"AuthController",templateUrl:"views/signin.html"}).when("/forgot",{controller:"AuthController",templateUrl:"views/forgot.html"})}angular.module("authentication",[]).config(["$routeProvider",a])}(),function(){"use strict";function a(a,b,c,d,e){function f(a){var b=a;b.picture="images/no_avatar.png",c.currentUser=b,c.auth=!1,d.path("/trainings")}function g(a){throw a}e.scrollTop(0,0),c.displayLogin=!1,a.signIn=function(){b.signIn(a.login).then(f,g)},a.signUp=function(){b.signUp(a.user).then(f,g)},c.logout=function(){b.logout(),d.path("/")}}angular.module("authentication").controller("AuthController",["$scope","authFactory","$rootScope","$location","$document",a])}(),function(){"use strict";function a(a){function b(a){return Parse.User.logIn(a.email,a.password,{success:d,error:e}),h.promise}function c(a){var b=new Parse.User;b.set("username",a.email);for(var c in a)b.set(c,a[c]);return b.signUp(null,{success:d,error:e}),h.promise}function d(a){var b=a.attributes;b.id=a.id,h.resolve(b)}function e(a,b){h.resolve({user:a,error:b})}function f(){Parse.User.logOut()}function g(){}var h=a.defer();return{signIn:b,signUp:c,logout:f,forgot:g}}angular.module("authentication").factory("authFactory",["$q",a])}(),function(){"use strict";function a(a){a.when("/trainings",{controller:"TrainingController",templateUrl:"views/trainings.html"}).when("/trainings/:training_id",{controller:"TrainingDetailsController",templateUrl:"views/trainingDetails.html"})}angular.module("training",[]).config(["$routeProvider",a])}(),function(){"use strict";function a(a,b,c,d){b.localStorage&&!b.localStorage.trainings?d.getAll().then(function(c){a.trainings=c,b.localStorage.trainings=JSON.stringify(c)}):a.trainings=JSON.parse(b.localStorage.trainings)}angular.module("training").controller("TrainingController",["$scope","$window","CurrentUser","trainingFactory",a])}(),function(){"use strict";function a(a,b,c,d,e){a.session=c.getTrainingById(b.training_id)[0],e.scrollTop(0,0),a.session.numberAttendees=a.session.attendees.length,a.register=function(){d.path("/cart")}}angular.module("training").controller("TrainingDetailsController",["$scope","$routeParams","trainingFactory","$location","$document",a])}(),function(){"use strict";function a(a,b,c){function d(){var a=b.defer(),c=Parse.Collection.extend({model:Parse.Object.extend("Training")}),d=new c;return d.fetch({success:function(b){var c=[];b.forEach(function(a){var b=a.attributes;b.id=a.id,c.push(b)}),a.resolve(c)},error:function(){a.resolve(!1)}}),a.promise}function e(a){return JSON.parse(c.localStorage.trainings).filter(function(b){return b.id===a})}return{getAll:d,getTrainingById:e}}angular.module("philosAngularApp").factory("trainingFactory",["$resource","$q","$window",a])}(),function(){"use strict";function a(a){a.when("/cart",{controller:"CartController",templateUrl:"views/cart.html"})}angular.module("cart",[]).config(["$routeProvider",a])}(),function(){"use strict";function a(){}angular.module("cart").controller("CartController",["$scope","cartFactory","$rootScope","$location",a])}(),function(){"use strict";function a(){}angular.module("cart").factory("cartFactory",["$q",a])}(),function(a,b){var c=function(){var c,d=b(a.documentElement),e=b(a.body);return d.scrollTop()?d:(c=e.scrollTop(),e.scrollTop(c+1).scrollTop()==c?d:e.scrollTop(c))}();b.fn.smoothScroll=function(a){return a=~~a||400,this.find('a[href*="#"]').click(function(d){var e=this.hash,f=b(e);location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname&&f.length&&(d.preventDefault(),c.stop().animate({scrollTop:f.offset().top},a,function(){location.hash=e}))}).end()}}(document,jQuery);